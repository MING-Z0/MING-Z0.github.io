## 2.6 常用命令

前面内容，我们学习了 ROS2 中的多种通信机制，了解了不同通信模型的实现流程、相关API以及各自的特点，接下来我们再介绍一些实际开发当中可能会遇到的一些问题：

> 1.一个完整的机器人系统启动之后，其组成是比较复杂的，可能包含十几个、几十个甚至上百个节点，不同的节点可能又包含一个或多个通信对象\(话题发布方、话题订阅方、服务端、客户端、动作服务端、动作客户端、参数服务端、参数客户端\)，通信时还需要使用到各种各样的msg、srv或action接口消息，那么在开发过程中，如何才能方便的获取这些节点、话题、服务、动作、参数以及接口相关的信息呢？  
> 2.编写通信实现，通信至少涉及到双方，一方编写完毕后，如何验证程序是否可以正常运行呢？  
> 3.话题通信过程中，发布方程序中设置了消息的发布频率，如何判断实际运行中的发布频率是否和设置的频率一致呢？  
> ......

在 ROS2 中提供了一些命令工具，可以方便快捷的解决上述问题，本部分内容就主要介绍这些命令的使用，常用的命令如下：

* **ros2 node**：节点相关命令行工具
* **ros2 interface**：接口\(msg、srv、action\)消息相关的命令行工具
* **ros2 topic**：话题通信相关的命令行工具
* **ros2 service**：服务通信相关的命令行工具
* **ros2 action**：动作通信相关的命令行工具
* **ros2 param**：参数服务相关的命令行工具

关于命令的使用一般都会提供帮助文档，帮助文档的获取方式如下：

* 可以通过`命令 -h` 或 `命令 --help`的方式查看命令帮助文档，比如：`ros2 node -h`或 `ros2 node --help`。

* 命令下参数的使用也可以通过`命令 参数 -h` 或 `命令 参数 --help`的方式查看帮助文档，比如：`ros2 node list -h`或 `ros2 node list --help`。

#### 1.ros2 node

ros2 node 的 基本使用语法如下：

```
info  输出节点信息
list  输出运行中的节点的列表
```

#### 2.ros2 interace

ros2 interace 的基本使用语法如下：

```
list      输出所有可用的接口消息
package   输出指定功能包下的
packages  输出包含接口消息的功能包
proto     输出接口消息原型
show      输出接口消息定义格式
```

#### 3.ros2 topic

ros2 topic 的基本使用语法如下：

```
bw       输出话题消息传输占用的带宽
delay    输出带有 header 的话题延迟
echo     输出某个话题下的消息
find     根据类型查找话题
hz       输出消息发布频率
info     输出话题相关信息
list     输出运行中的话题列表
pub      向指定话题发布消息
type     输出话题使用的接口类型
```

#### 4.ros2 service

ros2 service 的基本使用语法如下：

```
call  向某个服务发送请求
find  根据类型查找服务
list  输出运行中的服务列表
type  输出服务使用的接口类型
```

#### 5.ros2 action

ros2 action 的基本使用语法如下：

```
info       输出指定动作的相关信息
list       输出运行中的动作的列表
send_goal  向指定动作发送请求
```

#### 6.ros2 param

ros2 param 的基本使用语法如下：

```
delete    删除参数
describe  输出参数的描述信息
dump      将节点参数写入到磁盘文件
get       获取某个参数
list      输出可用的参数的列表
load      从磁盘文件加载参数到节点
set       设置参数
```



